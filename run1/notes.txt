(uv_env) ubuntu@ip-172-31-28-68:~/hf_transformers_cpu_benchmark$ just run_benchmark Qwen/Qwen3-4B-Instruct-2507 run1/task.json 32 50 run1/out-32.json
Benchmark speed of model on CPU with 32 cores...
Benchmark speed of model: Qwen/Qwen3-4B-Instruct-2507
Input file: run1/task.json
Number of CPU cores to use: 32
Maximum number of output tokens: 50
Loading checkpoint shards: 100%|███████████████████████████████████████████████████████████████████████████| 3/3 [00:00<00:00,  4.27it/s]
Operation load_model took 1.58 seconds.
Compile the model...
Operation compile_model took 0.13 seconds.
Operation load_input took 0.0 seconds.
Operation encode_input took 0.04 seconds.
  0%|                                                                                                             | 0/10 [00:00<?, ?it/s]The following generation flags are not valid and may be ignored: ['temperature', 'top_p', 'top_k']. Set `TRANSFORMERS_VERBOSITY=info` for more details.
100%|████████████████████████████████████████████████████████████████████████████████████████████████████| 10/10 [08:34<00:00, 51.43s/it]
Operation generate_llm took 514.35 seconds.
Operation decode_outputs took 0.0 seconds.
Save to output file: run1/out-32.json
Done saving to output file.
